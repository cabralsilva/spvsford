<!DOCTYPE html>
<html class="no-js css-menubar" lang="en">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport"
	content="width=device-width, initial-scale=1.0, user-scalable=0, minimal-ui">
<meta name="description" content="report zonetimes">
<meta name="author" content="Daniel Cabral">
<title>Supervisório | AGVS</title>
<link rel="shortcut icon" href="../../assets/images/favicon.ico">
<!-- Stylesheets -->
<link rel="stylesheet" href="../../global/css/bootstrap.min.css">
<link rel="stylesheet" href="../../global/css/bootstrap-extend.min.css">
<link rel="stylesheet" href="../../assets/css/site.min.css">
<!-- Plugins -->
<!-- <link rel="stylesheet" href="../../global/vendor/animsition/animsition.css"> -->
<link rel="stylesheet" href="../../global/vendor/asscrollable/asScrollable.css">
<!-- <link rel="stylesheet" href="../../global/vendor/switchery/switchery.css"> -->
<!-- <link rel="stylesheet" href="../../global/vendor/intro-js/introjs.css"> -->
<!-- <link rel="stylesheet" href="../../global/vendor/slidepanel/slidePanel.css"> -->
<!-- <link rel="stylesheet" href="../../global/vendor/flag-icon-css/flag-icon.css"> -->
<link rel="stylesheet" href="../../global/vendor/datatables-bootstrap/dataTables.bootstrap.css">
<link rel="stylesheet" href="../../global/vendor/datatables-fixedheader/dataTables.fixedHeader.css">
<link rel="stylesheet" href="../../global/vendor/datatables-responsive/dataTables.responsive.css">
<link rel="stylesheet" href="../../assets/examples/css/tables/datatable.css">

<link rel="stylesheet" href="../../assets/examples/css/tables/buttons.dataTables.min.css">


<!-- <link rel="stylesheet" href="../../global/vendor/bootstrap-sweetalert/sweet-alert.css"> -->
<!-- <link rel="stylesheet" href="../../global/vendor/toastr/toastr.css"> -->
<!-- <link rel="stylesheet" href="../../global/vendor/asrange/asRange.css"> -->
<!-- <link rel="stylesheet" href="../../global/vendor/ascolorpicker/asColorPicker.css"> -->
<link rel="stylesheet" href="../../global/vendor/bootstrap-datepicker/bootstrap-datepicker.css">
<!-- Fonts -->
<!-- <link rel="stylesheet" href="../../global/fonts/font-awesome/font-awesome.css"> -->
<link rel="stylesheet" href="../../global/fonts/web-icons/web-icons.min.css">
<!-- <link rel="stylesheet" href="../../global/fonts/brand-icons/brand-icons.min.css"> -->


<!--[if lt IE 9]>
    <script src="../../global/vendor/html5shiv/html5shiv.min.js"></script>
    <![endif]-->
<!--[if lt IE 10]>
    <script src="../../global/vendor/media-match/media.match.min.js"></script>
    <script src="../../global/vendor/respond/respond.min.js"></script>
    <![endif]-->
<!-- Scripts -->
<!-- <script src="../../global/vendor/modernizr/modernizr.js"></script> -->
<script src="../../global/vendor/breakpoints/breakpoints.js"></script>
<script>
	Breakpoints();
</script>
</head>

<body class="dashboard">
	<!--[if lt IE 8]>
        <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</p>
    <![endif]-->
	<nav
		class="site-navbar navbar navbar-default navbar-fixed-top navbar-mega"
		role="navigation">
		<div class="navbar-header">
			<button type="button"
				class="navbar-toggle hamburger hamburger-close navbar-toggle-left hided"
				data-toggle="menubar"> <span
					class="hamburger-bar"></span>
			</button>
			<button type="button" class="navbar-toggle collapsed"
				data-target="#site-navbar-collapse" data-toggle="collapse">
				<i class="icon wb-more-horizontal" aria-hidden="true"></i>
			</button>
			<div class="navbar-brand navbar-brand-center site-gridmenu-toggle"
				data-toggle="gridmenu">
				<center>
					<img class='img-rounded' src='/TAS/images/logo.png' alt='...'>
				</center>
			</div>

		</div>
		<div class="navbar-container container-fluid">
			<!-- Navbar Collapse -->
			<div class="collapse navbar-collapse navbar-collapse-toolbar"
				id="site-navbar-collapse">
				<!-- Navbar Toolbar -->
				<ul class="nav navbar-toolbar">
					<li class="hidden-float" id="toggleMenubar"><a
						data-toggle="menubar" href="#" role="button"> <i
							class="icon hamburger hamburger-arrow-left"> <span
								class="hamburger-bar"></span>
						</i>
					</a></li>

				</ul>
				<!-- End Navbar Toolbar -->
				<!-- Navbar Toolbar Right -->
				<ul class="nav navbar-toolbar navbar-right navbar-toolbar-right">

					<li class="dropdown"><a class="navbar-avatar dropdown-toggle"
						data-toggle="dropdown" href="#" aria-expanded="false"
						data-animation="scale-up" role="button"> <span
							class="avatar avatar-online"> <img
								src="/TAS/images/usr.png" alt="..."> <i></i>
						</span>
					</a>
						<ul class="dropdown-menu" role="menu">
							<h4 align="center">#{GenerateUser}#</h4>
							<li role="presentation"><a href="#" id="alterarSenhaUsr"
								role="menuitem"><i class="icon wb-settings"
									aria-hidden="true"></i> Alterar Senha</a></li>
							<li class="divider" role="presentation"></li>
							<li role="presentation"><a href="/SupervisorioAGVS/Login"
								role="menuitem"><i class="icon wb-power" aria-hidden="true"></i>
									Logout</a></li>
						</ul></li>



				</ul>
				<!-- End Navbar Toolbar Right -->
			</div>
			<!-- End Navbar Collapse -->
			<!-- Site Navbar Seach -->
			<div class="collapse navbar-search-overlap" id="site-navbar-search">
				<form role="search">
					<div class="form-group">
						<div class="input-search">
							<i class="input-search-icon wb-search" aria-hidden="true"></i> <input
								type="text" class="form-control" name="site-search"
								placeholder="Search...">
							<button type="button" class="input-search-close icon wb-close"
								data-target="#site-navbar-search" data-toggle="collapse"
								aria-label="Close"></button>
						</div>
					</div>
				</form>
			</div>
			<!-- End Site Navbar Seach -->
		</div>
	</nav>
	#{GenerateDashboard}#
	<div class="site-menubar-footer">
		<a href="/SupervisorioAGVS/Login" data-placement="top"
			data-toggle="tooltip" data-original-title="Logout"> <span
			class="icon wb-power" aria-hidden="true"></span>
		</a>
	</div>
	</div>

	<div class="page animsition">
		<div class="page-header">
			<h1 class="page-title">Relatório de Tempos</h1>
			<div class="page-header-actions">
				<a class="btn btn-sm btn-default btn-outline btn-round" href="/"
					target="_blank"> <i class="icon wb-link" aria-hidden="true"></i>
					<span class="hidden-xs">Home Page</span>
				</a>
			</div>
		</div>
		<div class="page-content">
			<!-- Panel Table Individual column searching -->
			<div class="panel">
				<div class="row" style="padding-top: 30px; padding-left: 30px;">
					<form id="frmSeachByDate" class="form-inline">
						<div class="form-group col-sm-6 col-lg-6" style="margin-right: 0px"> 
							<label class="control-label col-sm-2" for="periodo">Periodo:</label>
							<div class="col-sm-9">
								<div class="input-daterange" data-plugin="datepicker">
									<div class="input-group" style="width: 45%">
										<span class="input-group-addon"> <i
											class="icon wb-calendar" aria-hidden="true"></i>
										</span> <input type="text" class="form-control" name="start" required />
									</div>
									<div class="input-group" style="width: 50%">
										<span class="input-group-addon">até</span> <input type="text"
											class="form-control" name="end" required/> <span
											class="input-group-btn">
											
										</span>
									</div>
								</div>
							</div>
							
						</div>
						<div class="form-group col-sm-2 col-lg-2"> 
							<select  id="selectAgv" name="selectAgv" class="form-control" style="width: 100%;" data-plugin="select">
							</select>
						</div>
						<div class="form-group col-sm-2 col-lg-2"> 
							<select  id="selectZoneTime" name="selectZoneTime" class="form-control" style="width: 100%;" data-plugin="select">
							</select>
						</div>
						<button onclick="searchByDate('/ActionRelatoriosZoneTime')" class="btn btn-primary">
											<i class="icon wb-search" aria-hidden="true"></i>
										</button>
					</form>
					
				</div>
				<!-- Panel Table Individual column searching -->
			      <div class="panel">
			        <div class="panel-body">
			          <table class="table table-hover dataTable table-striped width-full " id="tableRelatorioZoneTime">
<!-- 			            <thead> -->
<!-- 			              <tr> -->
<!-- 			                <th colspan="7" style="text-align: center; padding: 10px 18px; border-bottom: 1px solid #111; font-weight: bold;">Zona de tempo: #Direita Cheio/Tempo: 10:00 min</th> -->
<!-- 			              </tr> -->
<!-- 			              <tr > -->
<!-- 			                <th>Volta</th> -->
<!-- 			                <th>AGV</th> -->
<!-- 			                <th>Hora Inicio</th> -->
<!-- 			                <th>Hora Fim</th> -->
<!-- 			                <th>Tempo</th> -->
<!-- 			                <th>Obstaculo</th> -->
<!-- 			                <th>Atraso</th> -->
<!-- 			              </tr> -->
<!-- 			            </thead> -->
<!-- 			            <tbody> -->
<!-- 			              <tr style="color: #000; font-weight: bold; background-color: rgba(200,200,200,1);"> -->
<!-- 			                <td>1ª Volta</td> -->
<!-- 			                <td>AGV 17</td> -->
<!-- 			                <td>12:07:55</td> -->
<!-- 			                <td>12:20:38</td> -->
<!-- 			                <td>00:12:43</td> -->
<!-- 			                <td>00:01:32</td> -->
<!-- 			                <td>00:02:43</td> -->
<!-- 			              </tr> -->
<!-- 		            	  <tr style="color: #000; background-color: rgba(200,200,200,0.6);"> -->
<!-- 			            	<td></td> -->
<!-- 			                <td>TAG 3</td> -->
<!-- 			                <td>12:07:55</td> -->
<!-- 			                <td>12:09:20</td> -->
<!-- 			                <td>00:01:25</td> -->
<!-- 			                <td>Bateria: 60%</td> -->
<!-- 			                <td>MD: 2A / ME 1,8A</td> -->
<!-- 			              </tr> -->
<!-- 			              <tr style="color: #000; background-color: rgba(200,200,200,0.3);"> -->
<!-- 			            	<td></td> -->
<!-- 			            	<td align="right">Rodando</td> -->
<!-- 			                <td>12:07:55</td> -->
<!-- 			                <td>12:08:30</td> -->
<!-- 			                <td>00:00:35</td> -->
<!-- 			                <td></td> -->
<!-- 			                <td></td> -->
			                
<!-- 			              </tr> -->
<!-- 			              <tr style="color: #000; background-color: rgba(200,200,200,0.3);"> -->
<!-- 			            	<td></td> -->
<!-- 			            	<td align="right">Em espera</td> -->
<!-- 			                <td>12:08:30</td> -->
<!-- 			                <td>12:08:35</td> -->
<!-- 			                <td>00:00:05</td> -->
<!-- 			                <td></td> -->
<!-- 			                <td></td> -->

<!-- 			              </tr> -->
<!-- 			              <tr style="color: #000; background-color: rgba(200,200,200,0.3);"> -->
<!-- 			            	<td></td> -->
			            	
<!-- 			            	<td align="right">Rodando</td> -->
<!-- 			            	<td>12:08:35</td> -->
<!-- 			            	<td>12:08:44</td> -->
<!-- 			                <td>00:00:09</td> -->
<!-- 			                <td></td> -->
<!-- 			                <td></td> -->

<!-- 			              </tr> -->
<!-- 			              <tr style="color: #000; background-color: rgba(200,200,200,0.3);"> -->
<!-- 			            	<td></td> -->
<!-- 			            	<td align="right">Obstaculo</td> -->
<!-- 			                <td>12:08:44</td> -->
<!-- 			                <td>12:09:15</td> -->
<!-- 			                <td>00:00:21</td> -->
<!-- 			                <td></td> -->
<!-- 			                <td></td> -->

<!-- 			              </tr> -->
<!-- 			              <tr style="color: #000; background-color: rgba(200,200,200,0.3);"> -->
<!-- 			            	<td></td> -->
<!-- 			            	<td align="right">Rodando</td> -->
<!-- 			                <td>12:09:15</td> -->
<!-- 			                <td>12:09:20</td> -->
<!-- 			                <td>00:00:05</td> -->
<!-- 			                <td></td> -->
<!-- 			                <td></td> -->

<!-- 			              </tr> -->
<!-- 		            	  <tr style="color: #000; background-color: rgba(200,200,200,0.6);"> -->
<!-- 			            	<td></td> -->
<!-- 			                <td>TAG 5</td> -->
<!-- 			                <td>12:09:20</td> -->
<!-- 			                <td>12:10:40</td> -->
<!-- 			                <td>00:01:20</td> -->
<!-- 			                <td>Bateria: 58%</td> -->
<!-- 			                <td>MD: 2A / ME 1,8A</td> -->
<!-- 			              </tr> -->
<!-- 			              <tr style="color: #000; background-color: rgba(200,200,200,0.3);"> -->
			                
<!-- 			                <td></td> -->
<!-- 			            	<td align="right">Rodando</td> -->
<!-- 			                <td>12:07:55</td> -->
<!-- 			                <td>12:08:30</td> -->
<!-- 			                <td>00:00:35</td> -->
<!-- 			                <td></td> -->
<!-- 			                <td></td> -->

<!-- 			              </tr> -->
<!-- 			              <tr style="color: #000; background-color: rgba(200,200,200,0.3);"> -->
			              
<!-- 			              	<td></td> -->
<!-- 			            	<td align="right">Em espera</td> -->
<!-- 			                <td>12:08:30</td> -->
<!-- 			                <td>12:08:35</td> -->
<!-- 			                <td>00:00:05</td> -->
<!-- 			                <td></td> -->
<!-- 			                <td></td> -->
		                
<!-- 			              </tr> -->
<!-- 			              <tr style="color: #000; background-color: rgba(200,200,200,0.3);"> -->
			              	
<!-- 			              	<td></td> -->
<!-- 			            	<td align="right">Rodando</td> -->
<!-- 			                <td>12:08:35</td> -->
<!-- 			                <td>12:08:44</td> -->
<!-- 			                <td>00:00:09</td> -->
<!-- 			                <td></td> -->
<!-- 			                <td></td> -->

<!-- 			              </tr> -->
<!-- 			              <tr style="color: #000; background-color: rgba(200,200,200,0.3);"> -->
			              
<!-- 			              	<td></td> -->
<!-- 			            	<td align="right">Obstaculo</td> -->
<!-- 			                <td>12:08:44</td> -->
<!-- 			                <td>12:09:15</td> -->
<!-- 			                <td>00:00:31</td> -->
<!-- 			                <td></td> -->
<!-- 			                <td></td> -->

			              	
<!-- 			              </tr> -->
<!-- 			              <tr style="color: #000; background-color: rgba(200,200,200,0.3);"> -->
			              
<!-- 			              	<td></td> -->
<!-- 			            	<td align="right">Rodando</td> -->
<!-- 			                <td>12:09:15</td> -->
<!-- 			                <td>12:10:40</td> -->
<!-- 			                <td>00:01:25</td> -->
<!-- 			                <td></td> -->
<!-- 			                <td></td> -->
			              	
<!-- 			              </tr> -->
		            	 
			            </tbody>
			          </table>
			        </div>
					
			      </div>
			</div>
			<!-- End Panel Table Individual column searching -->
		</div>
		</div>
		<!-- Core  -->
		<script src="../../global/vendor/jquery/jquery.js"></script>
		<script src="../../global/vendor/bootstrap/bootstrap.js"></script>
		<script src="../../global/vendor/animsition/animsition.js"></script>
		<script src="../../global/vendor/asscrollable/jquery.asScrollable.all.js"></script>
		<!-- Plugins -->
		<script src="../../global/vendor/datatables/jquery.dataTables.js"></script>
		<script src="../../global/vendor/datatables-fixedheader/dataTables.fixedHeader.js"></script>
		<script src="../../global/vendor/datatables-bootstrap/dataTables.bootstrap.js"></script>
		<script src="../../global/vendor/datatables-responsive/dataTables.responsive.js"></script>
		<script src="../../global/vendor/datatables-tabletools/dataTables.tableTools.js"></script>
		
		
		<script src="../../global/vendor/datatables/dataTables.buttons.min.js"></script>
		<script src="../../global/vendor/datatables/jszip.min.js"></script>
		<script src="../../global/vendor/datatables/pdfmake.min.js"></script>
		<script src="../../global/vendor/datatables/vfs_fonts.js"></script>
		<script src="../../global/vendor/datatables/buttons.html5.min.js"></script>
		
		
		
		<script src="../../global/vendor/asrange/jquery-asRange.min.js"></script>
		<script src="../../global/vendor/bootbox/bootbox.js"></script>
		<script src="../../global/vendor/bootbox/bootbox.js"></script>
		<script src="../../global/vendor/bootstrap-sweetalert/sweet-alert.js"></script>
		<script src="../../global/vendor/toastr/toastr.js"></script>
		<!-- Scripts -->
		<script src="../../global/js/core.js"></script>
		<script src="../../assets/js/site.js"></script>
		<script src="../../assets/js/sections/menu.js"></script>
		<script src="../../assets/js/sections/menubar.js"></script>
		<script src="../../assets/js/sections/gridmenu.js"></script>
		<script src="../../assets/js/sections/sidebar.js"></script>
		<script src="../../global/js/components/asscrollable.js"></script>
		<script src="../../global/js/components/animsition.js"></script>
		<script src="../../global/js/components/slidepanel.js"></script>
		<script src="../../global/js/components/datatables.js"></script>
		<script src="../../assets/examples/js/tables/datatableRelatorioZoneTime.js"></script>
		<script src="../../TAS/js/ajaxMessagem.js" charset="iso-8859-1"></script>
		<script src="../../assets/examples/js/advanced/bootbox-sweetalert.js"></script>
		<script src="../../TAS/js/clickHref.js" charset="iso-8859-1"></script>

		<script src="../../global/vendor/bootstrap-datepicker/bootstrap-datepicker.js"></script>
		<script src="../../global/js/components/bootstrap-datepicker.js"></script>
		<script type="text/javascript">
			$("#frmSeachByDate").submit(function(e) {
			    e.preventDefault();  
			});
			$('.input-daterange').datepicker({
				endDate: '0d', 
			    format: "dd-mm-yyyy",
			    weekStart: 0,
			    language: "pt-BR",
			    multidate: false,
			    daysOfWeekHighlighted: "0",
			    todayHighlight: false,
			    autoclose: true
			});
			function listAGVs() {
				var select = document.getElementById("selectAgv");
				select.innerHTML += '#{listAGVs}#';
			}
			function listZoneTime() {
				var select = document.getElementById("selectZoneTime");
				select.innerHTML += '#{listZoneTime}#';
			}
			
			$(document).ready(function() {
				var tableCustom;
				listAGVs();
				listZoneTime();
				
			});
			function searchByDate(link){
				if(!$('#frmSeachByDate')[0].checkValidity()) {
					return false;
				}
				try{
					var dateStart = $("input[name=start]").val();
					var dateEnd = $("input[name=end]").val();
					var agv = document.getElementById("selectAgv");
					var zt = document.getElementById("selectZoneTime");
					var idAgv = agv.options[agv.selectedIndex].value;
					var idZT = zt.options[zt.selectedIndex].value;
					$.ajax({
						method: "GET",
						url: link + "?action=search&datestart="+dateStart+"&dateend="+dateEnd+"&idagv="+idAgv+"&idzt="+idZT,
						async: true,
						contentType: "text/html",
						beforeSend: function() {
						    $('#tableRelatorioZoneTime').html('<center><img src="/TAS/images/loading.gif"/></center>');
						},
						success: function (e){
							var msg = e;
							var teste = "";
							if(msg.length >= 2) {
								teste = msg.substring(0, 2);
							}
							if(teste == "OK"){
								msg = msg.substring(2, msg.length);
								tableCustom.destroy();
								$('#tableRelatorioZoneTime').html(msg);
								tableCustom = $('#tableRelatorioZoneTime').DataTable( {
							    	"order": [],
							    	"paging": false,
							    	"bInfo" : false,
							    	"searching": false,
							    	 "dom": 'Bfrtip',
							         "buttons": [
							             'excelHtml5',
							             'csvHtml5',
							             'pdfHtml5'
							         ]});
							}
							else 
							{
								menssagemErro('Falha ao realizar pedido, Verifique se possui permissão para realizar ação.');
							}
						},
						error: function (error){
// 							console.log("retorno erro");
							$('#tableRelatorioZoneTime').html("No result find");
						}
					});	
					
				}
				catch(e) 
				{
					menssagemErro('Falha na comunicação');
					return false;
				}
			}
		</script>
		
	</body>
</html>
